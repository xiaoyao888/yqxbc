<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>简洁实用的表单验证程序_为你而生的编程知识网站_一起学编程</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="keywords" content="简洁实用的表单验证程序" />
  <meta name="description" content="看了山人表单验证，又看了其他一些验证程序和相关的一些参考资料，写出了一个比较简洁的js表单验证程序。 功能简述： 验证： http地址 时间日期 e-mail 数字 字符长度检查 一项输入与" />
  	<!-- Bootstrap core CSS -->
	<link href="/templets/default/css/bootstrap.min.css" rel="stylesheet">
	<!-- Bootstrap theme -->
	<link href="/templets/default/css/bootstrap-theme.min.css" rel="stylesheet">

	<!-- Custom styles for this template -->
	<link href="/templets/default/css/theme.css" rel="stylesheet">

	<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
	<!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
	<script src="/templets/default/js/ie-emulation-modes-warning.js"></script>

	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<script src="/templets/default/js/ie10-viewport-bug-workaround.js"></script>

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	<script src="/templets/default/js/jquery-2.1.3.js"></script>
	<script src="/templets/default/js/bootstrap.min.js"></script>
	<script src="/templets/default/js/docs.min.js"></script>
	<link href="/templets/default/css/main.css" rel="stylesheet">
	<script src="/templets/default/js/main.js"></script>

  <script src="/templets/default/js/article.js"></script>
  
<!-- zftb.cn Baidu tongji analytics -->
<script>
var _hmt = _hmt || [];
(function() {
var hm = document.createElement("script");
hm.src = "//hm.baidu.com/hm.js?01a1ff7b6ab0650920aa64bf8bfad7e2";
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(hm, s);
})();
</script>
</head>
<body>
  <link href="https://cdn.bootcss.com/animate.css/3.5.2/animate.css" rel="stylesheet">
<link href="/templets/default/css/header.css" rel="stylesheet">
<header id="header" class="site-header">
    <div class="container" style="margin-top:0px;">     
      <div class="row" >
        <div class="col-sm-12 col-md-12">
	        <div class="site-header-banner" style="min-height:300px;">
	        	<h2 class="title-site-name" id="title-site-name">一起学编程</h2>
	        	<div class="title-site-domain" id="title-site-domain">www.zftb.cn</div>
	        	<div class="title-site-memo" id="title-site-memo">常用技术，开发中遇到的坑，你想要的或许这里有。</div>
	        	<div class="title-site-article-count" id="title-site-article-count">
	        		共收藏了990 篇技术文章
	        	</div>
	        	<form  method="post" id="searchFrm" class="searchFrm" role="search" action="/plus/search.php">
		            <div class="input-group">		            	
		                <input type="text" class="form-control input-group-lg" id="keyword" name="keyword" placeholder="Search">
		                <span class="input-group-btn">
		                    <button type="button" class="btn btn-default" onclick="searchKey()">搜索</button>
		                </span>
		            </div><!-- /input-group -->
	            </form>
	        </div>
        </div>
      </div>
    </div>

    <nav class="navbar navbar-default navbar-custom">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header navbar-header-custom">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">首页</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav nav-custom">
            <li><a href="javascript:void(0);" title="SpringCloud">SpringCloud</a></li>
            <li class="dropdown">
              <a href="/bcsj" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">编程设计<span class="caret"></span></a>
              <ul class="dropdown-menu">
              
                 
                  <li><a href="/bcsj/css/" title="CSS">CSS</a> </li>
                 
                  <li><a href="/bcsj/Hadoop/" title="Hadoop">Hadoop</a> </li>
                 
                  <li><a href="/bcsj/Ajax/" title="Ajax">Ajax</a> </li>
                 
                  <li><a href="/bcsj/js/" title="Javascript">Javascript</a> </li>
                 
                  <li><a href="/bcsj/java/" title="Java">Java</a> </li>
                 
                  <li><a href="/bcsj/Jetty/" title="Jetty">Jetty</a> </li>
                 
                  <li><a href="/bcsj/Python/" title="Python">Python</a> </li>
                 
                  <li><a href="/storm/" title="Storm">Storm</a> </li>
                 
                  <li><a href="/ElasticSearch/" title="ElasticSearch">ElasticSearch</a> </li>
                 
                  <li><a href="/SpringBoot/" title="SpringBoot">SpringBoot</a> </li>
                 
                  <li><a href="/sublime/" title="Sublime">Sublime</a> </li>
                 
                  <li><a href="/SpringCloud/" title="SpringCloud">SpringCloud</a> </li>
                 
                  <li><a href="/ZooKeeper/" title="ZooKeeper">ZooKeeper</a> </li>
                 
                  <li><a href="/Git/" title="Git">Git</a> </li>
                 
                  <li><a href="/maven/" title="Maven">Maven</a> </li>
                 
                  <li><a href="/Gradle/" title="Gradle">Gradle</a> </li>
                
              
              </ul>
            </li>
            <li class="dropdown">
              <a href="/shujuku" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">数据库 <span class="caret"></span></a>
              <ul class="dropdown-menu">
                
                  <li><a href="/shujuku/redis/" title="redis">redis</a> </li>
                 
                  <li><a href="/shujuku/sqlserver/" title="SQL Server">SQL Server</a> </li>
                 
                  <li><a href="/shujuku/memcache/" title="Memcache">Memcache</a> </li>
                 
                  <li><a href="/shujuku/mysql/" title="MySql">MySql</a> </li>
                 
                  <li><a href="/shujuku/oracle/" title="Oracle">Oracle</a> </li>
                 
                  <li><a href="/shujuku/mangodb/" title="MangoDB">MangoDB</a> </li>
                 
                  <li><a href="/shujuku/hbase/" title="Hbase">Hbase</a> </li>
                 
                  <li><a href="/shujuku/access/" title="Access">Access</a> </li>
                 
                  <li><a href="/shujuku/db2/" title="DB2">DB2</a> </li>
                
              </ul>
            </li>     
            <li><a href="/dnzs" title="电脑基础知识学习，计算机技术学习网站，计算机基础知识,电脑学习">电脑知识 <span class="sr-only">(current)</span></a></li>
            <li><a href="/wlzs" title="网络知识大全">网络知识</a></li>
            <li><a href="http://www.win10os.com" title="windows10系统">windows10</a></li>      
            <li><a href="/czxt/linux" title="linux系统">linux</a></li>
            <li><a href='/tools/json.html' target="_blank" title="二维码生成">常用工具</a></li>
          </ul>          
        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>
</header><!-- /header --> 
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
       <div class="modal-dialog">
          <div class="modal-content">
             <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title" id="myModalLabel">搜索提示</h4>
             </div>
             <div class="modal-body">
                <div style="height:60px;line-height:60px;">关键字不能小于2个字！</div>
             </div>
          </div><!-- /.modal-content -->
       </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
<script type="text/javascript" src="/templets/default/js/header.js"></script>
  <div class="modal fade" id="imgModal" tabindex="-1" role="dialog" aria-hidden="true">
	   <div class="modal-dialog">
		  <div class="modal-content">
			 <div class="modal-body">
				<div id="modal_img" ></div>
			 </div>
		  </div>
	   </div>
	</div>
  <div class="container" style="padding-left:0px;padding-right:0px">
    
    <div class="col-sm-8  col-md-8">
      <ol class="breadcrumb">
      当前位置：<a href='http://www.zftb.cn/'>首页</a> > <a href='/bcsj/'>编程设计</a> > <a href='/bcsj/js/'>Javascript</a> >
      </ol>
      <div class="panel panel-default">
        <div class="panel-body">
          <div class="art_title">
            <div>简洁实用的表单验证程序</div>
            <a href="http://www.zftb.cn" title="http://www.zftb.cn">http://www.zftb.cn</a>&nbsp;  发布时间：2015-08-27 13:25 来源：一起学编程网 浏览：<span id="count"style="font-size:14px;">加载中</span>次
          </div>
          <div class="art_body">
            <div class="art_share"><div><div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"32"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></div></div>
            <div class="col-md-12 well bg-success" role="complementary">
              <h3>文章目录</h3>
            	<nav>
            		<ul id="rootul" class="nav bs-docs-sidenav"></ul>		
            	</nav>
            </div>
            <div id="938" class="art_content">看了山人表单验证，又看了其他一些验证程序和相关的一些参考资料，写出了一个比较简洁的js表单验证程序。<br />
<br />
功能简述：<br />
<br />
验证：<br />
<br />
http地址&nbsp;<br />
时间日期&nbsp;<br />
e-mail&nbsp;<br />
数字&nbsp;<br />
字符长度检查&nbsp;<br />
一项输入与另一项输入比较（例如：密码的确认输入）&nbsp;<br />
大小比较（只能有一个比较符号）<br />
特点<br />
<br />
扩展容易，可以方便的添加自己需要的验证方式&nbsp;<br />
兼容性好（ie5,6&nbsp;firefox,oprea）&nbsp;<br />
可用性好，没有使用alert()来弹出提示<br />
编写思路：<br />
<br />
整个程序的结构及较简单，为了能够验证一些常用的格式，先对js的内置对象进行了扩展。比如：<br />
<br />
<table align="\&quot;center\&quot;" border="\&quot;0\&quot;" cellpadding="\&quot;0\&quot;" cellspacing="\&quot;0\&quot;">
	<tbody>
		<tr>
			<td class="\&quot;code\&quot;" width="\&quot;560\&quot;">
				String.prototype.isUrl&nbsp;=&nbsp;function(){<br />
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;url&nbsp;=&nbsp;/^http:\\/\\/[A-Za-z0-9]+\\.[A-Za-z0-9]+[\\/=\\?%\\-&amp;_~`@[\\]\\&#39;:+!]*([^&lt;&gt;\\&quot;\\&quot;])*$/;<br />
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;tmpStr&nbsp;=&nbsp;this;<br />
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;url.test(tmpStr);<br />
				}</td>
		</tr>
	</tbody>
</table>
<br />
<br />
这个用来验证http地址。<br />
<br />
然后写了一个对象叫做vform&nbsp;包含了主要的功能，vform初始化的时候，会检查添加好的验证规则，并将要验证的表单控件对象扩展，添加validate()&nbsp;和&nbsp;validlength()两个函数，并且添加onblur事件来进行验证。<br />
出错提示采用的建立p对象的方法，出错就显示，正确就隐藏。所以还需要给p定义一个样式。<br />
使用前需要指定表单的id&nbsp;注意是id不是name&nbsp;要不然会出错，而规则添加的时候要指定的是表单控件的name属性不是id<br />
<br />
验证规则参数：<br />
<br />
obj&nbsp;&mdash;&nbsp;表单控件name&nbsp;<br />
<br />
minLength&nbsp;&mdash;&nbsp;填写的字符串最小长度0意味着可以不填&nbsp;而1意味着是必添<br />
<br />
dataType&nbsp;&mdash;&nbsp;验证格式有<br />
<br />
e-mail&nbsp;<br />
url&nbsp;<br />
date&nbsp;<br />
number&nbsp;<br />
any&nbsp;<br />
还有两种动态的格式用\\开头,&nbsp;\\表单控件的name&nbsp;表示必须与之的值一样；&nbsp;<br />
\\&gt;数字&nbsp;表示大于数字，类推；但是没有\\&gt;=这样的<br />
maxLength&nbsp;&mdash;&nbsp;最大长度。<br />
<br />
与其他程序不一样的是：我对http地址与日期格式地址的处理不同，填入的地址没有http://我会添加上后验证，这样比较人性化，符合可用性的要求。日期的处理也是一样，先尽可能的对填写的数字进行格式转化，然后再验证。格式采用了yyyy-mm-dd的格式。<br />
<br />
原始位置：http://lxbzj.com/product/vform/index.htm，原始文件应用一个日历输入控件在此省略&hellip;&hellip;<br />
<br />
完整的代码如下：<br />
[html]&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&quot;&nbsp;&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;<br />
&lt;html&nbsp;xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;<br />
&lt;head&gt;<br />
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=gb2312&quot;&nbsp;/&gt;<br />
&lt;title&gt;vForm表单验证程序&lt;/title&gt;<br />
&lt;style&nbsp;type=&quot;text/css&quot;&gt;<br />
&lt;!--<br />
p.info&nbsp;{<br />
&nbsp;width:&nbsp;170px;<br />
&nbsp;overflow:visible;<br />
&nbsp;height:auto;<br />
&nbsp;font-size:&nbsp;small;<br />
&nbsp;position:&nbsp;absolute;<br />
&nbsp;background-color:&nbsp;#FFffdd;<br />
&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;#000;<br />
&nbsp;filter:progid:DXImageTransform.Microsoft.Shadow(color=#111111,direction=135,strength=3);<br />
&nbsp;top:&nbsp;375px;<br />
&nbsp;padding:&nbsp;5px;<br />
&nbsp;left:&nbsp;671px;<br />
}<br />
p.info_title<br />
<br />
.err{<br />
&nbsp;padding:&nbsp;5px;<br />
&nbsp;height:&nbsp;50px;<br />
&nbsp;width:&nbsp;24em;<br />
&nbsp;position:&nbsp;absolute;<br />
&nbsp;background-color:&nbsp;#FFFFCC;<br />
&nbsp;left:&nbsp;196px;<br />
&nbsp;top:&nbsp;114px;<br />
&nbsp;font-size:&nbsp;small;<br />
&nbsp;opacity:0.5;<br />
&nbsp;border:&nbsp;1px&nbsp;double&nbsp;#333333;<br />
&nbsp;filter:&nbsp;Shadow(Color=#000000,&nbsp;Direction=135);<br />
&nbsp;filter:progid:DXImageTransform.Microsoft.Shadow(color=#111111,direction=135,strength=5);<br />
<br />
}<br />
#form1&nbsp;.text_input&nbsp;{<br />
&nbsp;border-top:&nbsp;1px&nbsp;solid&nbsp;#333333;<br />
&nbsp;border-right:&nbsp;1px&nbsp;solid&nbsp;#999999;<br />
&nbsp;border-bottom:&nbsp;1px&nbsp;solid&nbsp;#ddd;<br />
&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;#000000;<br />
}<br />
.info_title&nbsp;{<br />
&nbsp;color:&nbsp;#FF0000;<br />
&nbsp;background:&nbsp;#ACB9D1;<br />
}<br />
#form1&nbsp;{<br />
&nbsp;position:&nbsp;static;<br />
&nbsp;left:&nbsp;581px;<br />
&nbsp;top:&nbsp;463px;<br />
&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;#3300FF;<br />
&nbsp;padding:&nbsp;5px;<br />
&nbsp;;<br />
}<br />
#imok&nbsp;{<br />
&nbsp;display:&nbsp;block;<br />
&nbsp;position:&nbsp;absolute;<br />
&nbsp;height:315px;<br />
&nbsp;overflow:scroll;<br />
&nbsp;left:&nbsp;100px;<br />
&nbsp;top:&nbsp;100px;<br />
&nbsp;width:&nbsp;306px;<br />
}<br />
.title&nbsp;h1&nbsp;{<br />
&nbsp;background:&nbsp;#33CCFF;<br />
&nbsp;border-bottom:&nbsp;medium&nbsp;solid&nbsp;#3366FF;<br />
}<br />
.title&nbsp;p&nbsp;{<br />
&nbsp;font-size:&nbsp;medium;<br />
&nbsp;text-indent:&nbsp;2em;<br />
}<br />
body&nbsp;{<br />
&nbsp;font-family:&nbsp;Verdana,&nbsp;Arial,&nbsp;Helvetica,&nbsp;sans-serif;<br />
&nbsp;font-size:&nbsp;medium;<br />
}<br />
<br />
code&nbsp;{<br />
&nbsp;font:&nbsp;12px/18px&nbsp;&quot;lucida&nbsp;Grande&quot;,&nbsp;verdana,&nbsp;lucida,&nbsp;Arial,&nbsp;helvetica,&nbsp;&quot;宋体&quot;,&nbsp;sans-serif;<br />
&nbsp;border:1px&nbsp;solid&nbsp;#0099cc;<br />
&nbsp;padding:5px;<br />
&nbsp;margin:&nbsp;5px;<br />
&nbsp;width:&nbsp;80%;<br />
&nbsp;color:&nbsp;#000;<br />
&nbsp;background-color:&nbsp;#ddedfb;<br />
&nbsp;display:&nbsp;block;<br />
}<br />
<br />
--&gt;<br />
&lt;/style&gt;<br />
&lt;script&nbsp;language=&quot;JavaScript&quot;&nbsp;type=&quot;text/javascript&quot;&gt;<br />
//程序基本思路：通过扩展对象来实现，将String扩展&nbsp;将默认的表单元素扩展&nbsp;定义两个自定义对象。<br />
//String.isEmail<br />
//String.isUrl<br />
//表单元素.required<br />
//表单元素.isvalid<br />
//表单元素.validate<br />
//<br />
<br />
//字符串验证扩展<br />
//├电子邮件验证<br />
String.prototype.isEmail&nbsp;=&nbsp;function(){<br />
&nbsp;var&nbsp;tmpStr&nbsp;=&nbsp;this;<br />
&nbsp;var&nbsp;email&nbsp;=&nbsp;/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/;<br />
&nbsp;return&nbsp;email.test(tmpStr)<br />
}<br />
//├http地址验证<br />
String.prototype.isUrl&nbsp;=&nbsp;function(){<br />
&nbsp;var&nbsp;url&nbsp;=&nbsp;/^http:\\/\\/[A-Za-z0-9]+\\.[A-Za-z0-9]+[\\/=\\?%\\-&amp;_~`@[\\]\\&#39;:+!]*([^&lt;&gt;\\&quot;\\&quot;])*$/;<br />
&nbsp;var&nbsp;tmpStr&nbsp;=&nbsp;this;<br />
&nbsp;return&nbsp;url.test(tmpStr);<br />
}<br />
//├日期验证（第一部分）<br />
String.prototype.isDateTime&nbsp;=&nbsp;function(){<br />
&nbsp;if(Date.parse(this)||Date.parseDate(this))<br />
&nbsp;{<br />
&nbsp;&nbsp;return&nbsp;true;<br />
&nbsp;}<br />
&nbsp;else<br />
&nbsp;{<br />
&nbsp;&nbsp;return&nbsp;false;<br />
&nbsp;}<br />
}<br />
String.prototype.isInteger&nbsp;=&nbsp;function()<br />
{<br />
&nbsp;var&nbsp;_i&nbsp;=&nbsp;/^[-\\+]?\\d+$/;<br />
&nbsp;var&nbsp;_s&nbsp;=&nbsp;this;&nbsp;<br />
&nbsp;return&nbsp;_i.test(_s);<br />
}<br />
Date.prototype.toIsoDate&nbsp;=&nbsp;function()<br />
{<br />
&nbsp;var&nbsp;_d&nbsp;=&nbsp;this;<br />
&nbsp;var&nbsp;_s;<br />
&nbsp;_Y&nbsp;=_d.getFullYear();<br />
&nbsp;_M&nbsp;=&nbsp;_d.getMonth()&nbsp;+&nbsp;1;<br />
&nbsp;_D&nbsp;=&nbsp;_d.getDate();<br />
&nbsp;_H&nbsp;=&nbsp;_d.getHours();<br />
&nbsp;_I&nbsp;=&nbsp;_d.getMinutes();<br />
&nbsp;_S&nbsp;=&nbsp;_d.getSeconds();<br />
&nbsp;with(_d)<br />
&nbsp;{<br />
&nbsp;&nbsp;_s&nbsp;=&nbsp;[getMonth()&nbsp;+&nbsp;1,getDate(),getHours(),getMinutes(),getSeconds()];<br />
&nbsp;}<br />
&nbsp;for(var&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;_s.length;&nbsp;i++)<br />
&nbsp;{<br />
&nbsp;&nbsp;if&nbsp;(_s[i].toString().length&nbsp;==&nbsp;1)_s[i]=&nbsp;&#39;0&#39;+_s[i];<br />
&nbsp;}<br />
&nbsp;&nbsp;return&nbsp;(_Y&nbsp;+&nbsp;&#39;-&#39;+_s[0]+&#39;-&#39;+_s[1]+&#39;&nbsp;&#39;+_s[2]+&#39;:&#39;+_s[3]+&#39;:&#39;+_s[4])<br />
}<br />
//├日期验证（第二部分）<br />
Date.parseDate&nbsp;=&nbsp;function(str,&nbsp;fmt)&nbsp;{<br />
&nbsp;fmt&nbsp;=&nbsp;fmt||&quot;%Y-%m-%d&nbsp;%H:%M&quot;;<br />
&nbsp;var&nbsp;today&nbsp;=&nbsp;new&nbsp;Date();<br />
&nbsp;var&nbsp;y&nbsp;=&nbsp;0;<br />
&nbsp;var&nbsp;m&nbsp;=&nbsp;-1;<br />
&nbsp;var&nbsp;d&nbsp;=&nbsp;0;<br />
&nbsp;var&nbsp;a&nbsp;=&nbsp;str.split(/\\W+/);<br />
&nbsp;var&nbsp;b&nbsp;=&nbsp;fmt.match(/%./g);<br />
&nbsp;var&nbsp;i&nbsp;=&nbsp;0,&nbsp;j&nbsp;=&nbsp;0;<br />
&nbsp;var&nbsp;hr&nbsp;=&nbsp;0;<br />
&nbsp;var&nbsp;min&nbsp;=&nbsp;0;<br />
&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;a.length;&nbsp;++i)&nbsp;{<br />
&nbsp;&nbsp;if&nbsp;(!a[i])<br />
&nbsp;&nbsp;&nbsp;continue;<br />
&nbsp;&nbsp;switch&nbsp;(b[i])&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%d&quot;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%e&quot;:<br />
&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;parseInt(a[i],&nbsp;10);<br />
&nbsp;&nbsp;&nbsp;break;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%m&quot;:<br />
&nbsp;&nbsp;&nbsp;m&nbsp;=&nbsp;parseInt(a[i],&nbsp;10)&nbsp;-&nbsp;1;<br />
&nbsp;&nbsp;&nbsp;break;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%Y&quot;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%y&quot;:<br />
&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;parseInt(a[i],&nbsp;10);<br />
&nbsp;&nbsp;&nbsp;(y&nbsp;&lt;&nbsp;100)&nbsp;&amp;&amp;&nbsp;(y&nbsp;+=&nbsp;(y&nbsp;&gt;&nbsp;29)&nbsp;?&nbsp;1900&nbsp;:&nbsp;2000);<br />
&nbsp;&nbsp;&nbsp;break;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%b&quot;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%B&quot;:<br />
&nbsp;&nbsp;&nbsp;for&nbsp;(j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&lt;&nbsp;12;&nbsp;++j)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Calendar._MN[j].substr(0,&nbsp;a[i].length).toLowerCase()&nbsp;==&nbsp;a[i].toLowerCase())&nbsp;{&nbsp;m&nbsp;=&nbsp;j;&nbsp;break;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;break;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%H&quot;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%I&quot;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%k&quot;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%l&quot;:<br />
&nbsp;&nbsp;&nbsp;hr&nbsp;=&nbsp;parseInt(a[i],&nbsp;10);<br />
&nbsp;&nbsp;&nbsp;break;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%P&quot;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%p&quot;:<br />
&nbsp;&nbsp;&nbsp;if&nbsp;(/pm/i.test(a[i])&nbsp;&amp;&amp;&nbsp;hr&nbsp;&lt;&nbsp;12)<br />
&nbsp;&nbsp;&nbsp;&nbsp;hr&nbsp;+=&nbsp;12;<br />
&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(/am/i.test(a[i])&nbsp;&amp;&amp;&nbsp;hr&nbsp;&gt;=&nbsp;12)<br />
&nbsp;&nbsp;&nbsp;&nbsp;hr&nbsp;-=&nbsp;12;<br />
&nbsp;&nbsp;&nbsp;break;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;%M&quot;:<br />
&nbsp;&nbsp;&nbsp;min&nbsp;=&nbsp;parseInt(a[i],&nbsp;10);<br />
&nbsp;&nbsp;&nbsp;break;<br />
&nbsp;&nbsp;}<br />
&nbsp;}<br />
&nbsp;if&nbsp;(isNaN(y))&nbsp;y&nbsp;=&nbsp;today.getFullYear();<br />
&nbsp;if&nbsp;(isNaN(m))&nbsp;m&nbsp;=&nbsp;today.getMonth();<br />
&nbsp;if&nbsp;(isNaN(d))&nbsp;d&nbsp;=&nbsp;today.getDate();<br />
&nbsp;if&nbsp;(isNaN(hr))&nbsp;hr&nbsp;=&nbsp;today.getHours();<br />
&nbsp;if&nbsp;(isNaN(min))&nbsp;min&nbsp;=&nbsp;today.getMinutes();<br />
&nbsp;if&nbsp;(y&nbsp;!=&nbsp;0&nbsp;&amp;&amp;&nbsp;m&nbsp;!=&nbsp;-1&nbsp;&amp;&amp;&nbsp;d&nbsp;!=&nbsp;0)<br />
&nbsp;&nbsp;return&nbsp;new&nbsp;Date(y,&nbsp;m,&nbsp;d,&nbsp;hr,&nbsp;min,&nbsp;0);<br />
&nbsp;y&nbsp;=&nbsp;0;&nbsp;m&nbsp;=&nbsp;-1;&nbsp;d&nbsp;=&nbsp;0;<br />
&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;a.length;&nbsp;++i)&nbsp;{<br />
&nbsp;&nbsp;if&nbsp;(a[i].search(/[a-zA-Z]+/)&nbsp;!=&nbsp;-1)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;-1;<br />
&nbsp;&nbsp;&nbsp;for&nbsp;(j&nbsp;=&nbsp;0;&nbsp;j&nbsp;&lt;&nbsp;12;&nbsp;++j)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Calendar._MN[j].substr(0,&nbsp;a[i].length).toLowerCase()&nbsp;==&nbsp;a[i].toLowerCase())&nbsp;{&nbsp;t&nbsp;=&nbsp;j;&nbsp;break;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;if&nbsp;(t&nbsp;!=&nbsp;-1)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(m&nbsp;!=&nbsp;-1)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;m+1;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;=&nbsp;t;<br />
&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(parseInt(a[i],&nbsp;10)&nbsp;&lt;=&nbsp;12&nbsp;&amp;&amp;&nbsp;m&nbsp;==&nbsp;-1)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;m&nbsp;=&nbsp;a[i]-1;<br />
&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(parseInt(a[i],&nbsp;10)&nbsp;&gt;&nbsp;31&nbsp;&amp;&amp;&nbsp;y&nbsp;==&nbsp;0)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;parseInt(a[i],&nbsp;10);<br />
&nbsp;&nbsp;&nbsp;(y&nbsp;&lt;&nbsp;100)&nbsp;&amp;&amp;&nbsp;(y&nbsp;+=&nbsp;(y&nbsp;&gt;&nbsp;29)&nbsp;?&nbsp;1900&nbsp;:&nbsp;2000);<br />
&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;(d&nbsp;==&nbsp;0)&nbsp;{<br />
&nbsp;&nbsp;&nbsp;d&nbsp;=&nbsp;a[i];<br />
&nbsp;&nbsp;}<br />
&nbsp;}<br />
&nbsp;if&nbsp;(y&nbsp;==&nbsp;0)<br />
&nbsp;&nbsp;y&nbsp;=&nbsp;today.getFullYear();<br />
&nbsp;if&nbsp;(m&nbsp;!=&nbsp;-1&nbsp;&amp;&amp;&nbsp;d&nbsp;!=&nbsp;0)<br />
&nbsp;&nbsp;return&nbsp;new&nbsp;Date(y,&nbsp;m,&nbsp;d,&nbsp;hr,&nbsp;min,&nbsp;0);<br />
&nbsp;return&nbsp;today;<br />
};<br />
//扩展完成<br />
<br />
//对象定义<br />
<br />
var&nbsp;vform&nbsp;=&nbsp;new&nbsp;Object;<br />
//获取弹出提示的显示位置<br />
vform.getAbsolutePos&nbsp;=&nbsp;function(el)&nbsp;{<br />
&nbsp;var&nbsp;_p&nbsp;=&nbsp;{&nbsp;x:&nbsp;0,&nbsp;y:&nbsp;0&nbsp;};<br />
&nbsp;&nbsp;do{<br />
&nbsp;&nbsp;&nbsp;&nbsp;_p.x&nbsp;+=&nbsp;(el.offsetLeft&nbsp;-&nbsp;el.scrollLeft);<br />
&nbsp;&nbsp;&nbsp;&nbsp;_p.y&nbsp;+=&nbsp;(el.offsetTop&nbsp;-&nbsp;el.scrollTop);&nbsp;<br />
&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;while(el=el.offsetParent)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;_p;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
vform.toString&nbsp;=&nbsp;function()<br />
{<br />
&nbsp;return(&quot;vForm表单验证程序\\n版本：1.0beta\\n作者：雷晓宝\\n时间：2006-07-31\\n网址：http://lxbzj.com\\n许可：LGPL&quot;);<br />
}<br />
vform.rules&nbsp;=&nbsp;new&nbsp;Array;<br />
vform.rules.add&nbsp;=&nbsp;function(obj,minLength,dataType,errmsg,maxLength,rule,patams)<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;curlen&nbsp;=&nbsp;this.length;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this[curlen]&nbsp;=&nbsp;[obj,minLength,dataType,errmsg,maxLength,rule,patams];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//this[curlen]&nbsp;=&nbsp;[&nbsp;0&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;,&nbsp;&nbsp;5&nbsp;,&nbsp;&nbsp;&nbsp;6&nbsp;&nbsp;];<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;this.length;<br />
}<br />
vform.init=&nbsp;function()<br />
{<br />
&nbsp;if(document.getElementById(this.form_id))<br />
&nbsp;{<br />
&nbsp;&nbsp;//获取表单<br />
&nbsp;&nbsp;var&nbsp;o&nbsp;=&nbsp;document.getElementById(this.form_id);<br />
&nbsp;&nbsp;//遍历规则<br />
&nbsp;&nbsp;for(var&nbsp;i&nbsp;=&nbsp;0&nbsp;;i&lt;&nbsp;this.rules.length;i++)<br />
&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;_r&nbsp;=&nbsp;this.rules[i]<br />
&nbsp;&nbsp;&nbsp;//如果存在元素，则添加验证程序<br />
&nbsp;&nbsp;&nbsp;if(_o&nbsp;=&nbsp;o.elements[_r[0]])<br />
&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;//判断是是否必填,是否有最小长度<br />
&nbsp;&nbsp;&nbsp;&nbsp;if(_r[1]&nbsp;&gt;&nbsp;0&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.required&nbsp;=&nbsp;true;//必填的含义和最小长度为1是一样的<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.minLength&nbsp;=&nbsp;parseInt(_r[1]);<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;else<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.required&nbsp;=&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.minLength&nbsp;=&nbsp;0;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;//判断是否有最大长度;<br />
&nbsp;&nbsp;&nbsp;&nbsp;if(_r[4])<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.maxLength&nbsp;=&nbsp;parseInt(_r[4]);<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;//添加长度验证函数<br />
&nbsp;&nbsp;&nbsp;&nbsp;_o.validLength&nbsp;=&nbsp;function&nbsp;()<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;b&nbsp;=true;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(this.minLength)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;(this.minLength&nbsp;&lt;=&nbsp;this.value.length);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(this.type&nbsp;==&nbsp;&#39;textarea&#39;&nbsp;&amp;&amp;&nbsp;this.maxLength&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(this.maxLength&nbsp;&gt;=&nbsp;this.value.length&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(b);<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;//添加验证，进行格式验证<br />
&nbsp;&nbsp;&nbsp;&nbsp;switch(_r[2])<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#39;e-mail&#39;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.validate&nbsp;=&nbsp;function()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.isvalid&nbsp;=&nbsp;this.validLength()&nbsp;&amp;&amp;&nbsp;this.value.isEmail();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(this.isvalid);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#39;url&#39;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.validate&nbsp;=&nbsp;function()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(this.value.substring(0,7)&nbsp;!=&nbsp;&#39;http://&#39;)this.value&nbsp;=&nbsp;&#39;http://&#39;&nbsp;+this.value;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.isvalid&nbsp;=&nbsp;this.validLength()&nbsp;&amp;&amp;&nbsp;this.value.isUrl();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(this.isvalid);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#39;date&#39;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.validate&nbsp;=&nbsp;function()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;_d&nbsp;=&nbsp;Date.parse(this.value)||Date.parseDate(this.value);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.value&nbsp;=&nbsp;&nbsp;_d.toIsoDate();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.isvalid&nbsp;=&nbsp;this.validLength()&nbsp;&amp;&amp;&nbsp;this.value.isDateTime();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(this.isvalid);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=a&gt;b?1:1;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#39;number&#39;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.validate&nbsp;=&nbsp;function()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.isvalid&nbsp;=&nbsp;this.validLength()&nbsp;&amp;&amp;&nbsp;this.value.isInteger();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(this.isvalid);<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&#39;any&#39;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.validate&nbsp;=&nbsp;function()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.isvalid&nbsp;=&nbsp;this.validLength();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&nbsp;this.isvalid<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;regexp&nbsp;=&nbsp;/^\\\\\\w+$/;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;regexp.test(_r[2]))//表示必须和同表单下的某个字段的值一样。用于重复输入的验证<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_el&nbsp;=&nbsp;_r[2].substring(1);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(o.elements[_el]){<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.equal&nbsp;=&nbsp;_el;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.validate&nbsp;=&nbsp;function()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(_o&nbsp;=&nbsp;this.form.elements[this.equal])<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;(_o.value&nbsp;==&nbsp;this.value)&nbsp;&amp;&amp;&nbsp;this.validLength())<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;true;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(&#39;setup&nbsp;error&#39;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(_el&nbsp;+&nbsp;&#39;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;form&nbsp;element&#39;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.validate&nbsp;=&nbsp;function(){return&nbsp;true;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;regexp1&nbsp;=&nbsp;/^\\\\(==|!=|&gt;=|&lt;=|&gt;|&lt;)/;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;regexp1.test(_r[2])&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_s0&nbsp;=&nbsp;_r[2];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_s1&nbsp;=&nbsp;RegExp.$1;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_s2&nbsp;=&nbsp;_s0.replace(regexp1,&#39;&#39;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_operator&nbsp;=&nbsp;_s1.substring(0);//比较操作符<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;regexp2&nbsp;=&nbsp;/^\\w+$/;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(regexp2.test(_s2))//是一个标志符，整数&nbsp;或者变量<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.operation&nbsp;=&nbsp;_operator+_s2;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.validate&nbsp;=&nbsp;function()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_b&nbsp;=&nbsp;true;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(this.value.length&nbsp;!=0)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_b&nbsp;=&nbsp;eval(this.value+this.operation+&#39;;&#39;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_b&nbsp;=&nbsp;_b&nbsp;&amp;&amp;&nbsp;this.validLength();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;_b;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;//添加验证提示(p标签)并初始化<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;_p&nbsp;=&nbsp;vform.getAbsolutePos(_o);<br />
&nbsp;&nbsp;&nbsp;&nbsp;_o.tip&nbsp;=&nbsp;new&nbsp;tip(_r[3],vform.err_class,_p.x+_o.offsetWidth+3,_p.y);<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;_o.tip.init();<br />
&nbsp;&nbsp;&nbsp;&nbsp;//失去焦点时，开始验证<br />
&nbsp;&nbsp;&nbsp;&nbsp;_o.onblur&nbsp;=function(e)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(this.minLength&nbsp;||&nbsp;this.value.length&nbsp;&gt;0)&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;this.validate()&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.tip.hide();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.tip.show();//显示错误信息<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//this.focus();&nbsp;添加这句在ie里会导致死循环&nbsp;:(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;}<br />
&nbsp;//焦点验证可能会失败,所以最后需要表单提交前的验证作为最后的补充。<br />
&nbsp;&nbsp;document.getElementById(this.form_id).onsubmit&nbsp;=&nbsp;function()<br />
&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;var&nbsp;valid&nbsp;=&nbsp;true;<br />
&nbsp;&nbsp;&nbsp;for(i=0;i&lt;this.elements.length;i++)<br />
&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;_o&nbsp;=&nbsp;this.elements[i];<br />
&nbsp;&nbsp;&nbsp;&nbsp;if(_o.minLength&nbsp;&amp;&amp;&nbsp;!_o.isvalid)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_o.tip.show();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valid&nbsp;=&nbsp;false;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;return&nbsp;valid;<br />
&nbsp;&nbsp;}<br />
&nbsp;}<br />
}<br />
//弹出提示定义<br />
function&nbsp;tip(text,className,x,y)<br />
{<br />
&nbsp;var&nbsp;o&nbsp;=&nbsp;document.createElement(&quot;p&quot;);<br />
&nbsp;o.style.display&nbsp;=&nbsp;&quot;none&quot;;<br />
&nbsp;o.innerHTML&nbsp;=&nbsp;text;<br />
&nbsp;//var&nbsp;t&nbsp;=&nbsp;document.createTextNode(text);<br />
&nbsp;document.body.appendChild(o);<br />
&nbsp;//o.appendChild(t);<br />
&nbsp;<br />
&nbsp;this.init&nbsp;=&nbsp;function(dis)<br />
&nbsp;{<br />
&nbsp;&nbsp;o.className&nbsp;=&nbsp;&quot;info&quot;;<br />
&nbsp;&nbsp;o.style.left&nbsp;=&nbsp;x+&quot;px&quot;;<br />
&nbsp;&nbsp;o.style.top&nbsp;=&nbsp;y+&quot;px&quot;;<br />
&nbsp;&nbsp;o.style.zindex&nbsp;=&nbsp;100;<br />
&nbsp;&nbsp;if(dis)<br />
&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;o.style.display&nbsp;=&nbsp;&quot;&quot;;<br />
&nbsp;&nbsp;}<br />
&nbsp;&nbsp;else<br />
&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;o.style.display&nbsp;=&nbsp;&quot;none&quot;;<br />
&nbsp;&nbsp;}<br />
&nbsp;}<br />
&nbsp;this.show&nbsp;=&nbsp;function()<br />
&nbsp;{<br />
&nbsp;&nbsp;o.style.display&nbsp;=&nbsp;&quot;&quot;;<br />
&nbsp;}<br />
&nbsp;this.hide&nbsp;=&nbsp;function()<br />
&nbsp;{<br />
&nbsp;&nbsp;o.style.display&nbsp;=&nbsp;&quot;none&quot;;<br />
&nbsp;}<br />
}<br />
<br />
<br />
function&nbsp;start()<br />
{<br />
&nbsp;&nbsp;vform.form_id&nbsp;=&nbsp;&#39;form1&#39;;//必须是表单的id<br />
&nbsp;&nbsp;vform.err_class&nbsp;=&nbsp;&#39;info&#39;;//出错提示的样式<br />
&nbsp;//验证规则，逐条填写<br />
vform.rules.add(&#39;frm_name&#39;,1,&#39;e-mail&#39;,&#39;请您按照&nbsp;user@domain.com&nbsp;的格式输入电子邮件地址。&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;);<br />
&nbsp;&nbsp;vform.rules.add(&#39;myweb&#39;,1,&#39;url&#39;,&#39;请您按照&nbsp;http://www.domain.com&nbsp;的格式输入您的网址。&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;);<br />
&nbsp;&nbsp;vform.rules.add(&#39;dateinput&#39;,0,&#39;date&#39;,&#39;请按2000-03-05&nbsp;的格式输入日期。&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;);<br />
&nbsp;&nbsp;vform.rules.add(&#39;qq&#39;,0,&#39;number&#39;,&#39;这必须是一个整数&#39;);<br />
&nbsp;&nbsp;vform.rules.add(&#39;least10&#39;,10,&#39;any&#39;,&#39;您必须至少填写10个&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;);<br />
&nbsp;&nbsp;vform.rules.add(&#39;ok100&#39;,1,&#39;any&#39;,&#39;这里被限制为100个字符&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;,100);<br />
&nbsp;&nbsp;vform.rules.add(&#39;r_pass0&#39;,5,&#39;any&#39;,&#39;密码最短5位最长20位&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;,20);<br />
&nbsp;&nbsp;vform.rules.add(&#39;r_pass1&#39;,5,&quot;\\\\r_pass0&quot;,&#39;确认密码错误&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;,20);<br />
&nbsp;&nbsp;vform.rules.add(&#39;frm_sel&#39;,1,&quot;\\\\&gt;2&quot;,&#39;必须大于2000&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;);<br />
&nbsp;&nbsp;vform.init();<br />
&nbsp;<br />
}<br />
<br />
&lt;/script&gt;<br />
&lt;/head&gt;<br />
&lt;body&nbsp;onload=&quot;start()&quot;&gt;<br />
<br />
&lt;form&nbsp;id=&quot;form1&quot;&nbsp;name=&quot;form1&quot;&nbsp;method=&quot;get&quot;&nbsp;action=&quot;&quot;&gt;<br />
&nbsp;&lt;label&nbsp;for=&quot;frm_name&quot;&gt;e-mail:<br />
&nbsp;&lt;input&nbsp;name=&quot;frm_name&quot;&nbsp;type=&quot;text&quot;&nbsp;class=&quot;text_input&quot;&nbsp;id=&quot;frm_name&quot;&nbsp;title=&quot;输入一个电子邮箱地址&quot;/&gt;<br />
&nbsp;&lt;/label&gt;<br />
&nbsp;*<br />
&nbsp;&lt;p&gt;<br />
&nbsp;&nbsp;&lt;label&nbsp;for=&quot;r_pass0&quot;&gt;输入密码：<br />
&nbsp;&nbsp;&lt;input&nbsp;name=&quot;r_pass0&quot;&nbsp;type=&quot;text&quot;&nbsp;class=&quot;text_input&quot;&nbsp;id=&quot;r_pass0&quot;&nbsp;title=&quot;输入您希望的密码&nbsp;&quot;&nbsp;/&gt;<br />
&nbsp;&nbsp;&lt;/label&gt;<br />
&nbsp;*&lt;/p&gt;<br />
&nbsp;&lt;p&gt;<br />
&nbsp;&nbsp;&lt;label&nbsp;for=&quot;r_pass1&quot;&gt;密码确认：<br />
&nbsp;&nbsp;&lt;input&nbsp;name=&quot;r_pass1&quot;&nbsp;type=&quot;text&quot;&nbsp;class=&quot;text_input&quot;&nbsp;id=&quot;r_pass1&quot;&nbsp;title=&quot;将密码确认一次&quot;&nbsp;/&gt;<br />
&nbsp;&nbsp;&lt;/label&gt;<br />
&nbsp;*&lt;/p&gt;<br />
&nbsp;&lt;p&gt;<br />
&nbsp;&nbsp;&lt;label&nbsp;for=&quot;frm_sel&quot;&gt;选择：<br />
&nbsp;&nbsp;&lt;select&nbsp;name=&quot;frm_sel&quot;&nbsp;id=&quot;frm_sel&quot;&nbsp;title=&quot;请选择一个答案&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&lt;option&nbsp;value=&quot;0&quot;&gt;请选择一个答案&lt;/option&gt;<br />
&nbsp;&nbsp;&nbsp;&lt;option&nbsp;value=&quot;1&quot;&nbsp;selected=&quot;selected&quot;&gt;1000&lt;/option&gt;<br />
&nbsp;&nbsp;&nbsp;&lt;option&nbsp;value=&quot;2&quot;&gt;2000&lt;/option&gt;<br />
&nbsp;&nbsp;&nbsp;&lt;option&nbsp;value=&quot;3&quot;&gt;3000&lt;/option&gt;<br />
&nbsp;&nbsp;&nbsp;&lt;option&nbsp;value=&quot;4&quot;&gt;4000&lt;/option&gt;<br />
&nbsp;&nbsp;&nbsp;&lt;option&nbsp;value=&quot;5&quot;&gt;5000&lt;/option&gt;<br />
&nbsp;&nbsp;&nbsp;&lt;option&nbsp;value=&quot;6&quot;&gt;6000&lt;/option&gt;<br />
&nbsp;&nbsp;&lt;/select&gt;<br />
&lt;/label&gt;<br />
&nbsp;*&lt;/p&gt;<br />
&nbsp;&lt;p&gt;<br />
&nbsp;&nbsp;&lt;label&nbsp;for=&quot;input3&quot;&gt;输入网址：<br />
&nbsp;&nbsp;&lt;input&nbsp;name=&quot;myweb&quot;&nbsp;type=&quot;text&quot;&nbsp;class=&quot;text_input&quot;&nbsp;id=&quot;input3&quot;&nbsp;title=&quot;输入一个网址&quot;&nbsp;onmousemove=&quot;&quot;&nbsp;value=&quot;http://&quot;&nbsp;maxlength=&quot;100&quot;/&gt;<br />
&nbsp;&nbsp;&lt;/label&gt;<br />
&nbsp;*&lt;/p&gt;<br />
&nbsp;&lt;p&gt;<br />
&nbsp;&nbsp;&lt;label&nbsp;for=&quot;dateinput&quot;&gt;输入日期<br />
&nbsp;&nbsp;&lt;input&nbsp;name=&quot;dateinput&quot;&nbsp;type=&quot;text&quot;&nbsp;class=&quot;text_input&quot;&nbsp;title=&quot;输入一个日期&quot;&nbsp;id=&quot;dateinput&quot;/&gt;<br />
&lt;/label&gt;<br />
&nbsp;*&lt;/p&gt;<br />
&nbsp;&lt;p&gt;<br />
&nbsp;&nbsp;&lt;label&nbsp;for=&quot;mub&quot;&gt;输入数字<br />
&nbsp;&nbsp;&lt;input&nbsp;name=&quot;qq&quot;&nbsp;type=&quot;text&quot;&nbsp;class=&quot;text_input&quot;&nbsp;title=&quot;填写数字&quot;&nbsp;id=&quot;mub&quot;/&gt;<br />
&nbsp;&nbsp;&lt;/label&gt;<br />
&nbsp;&lt;/p&gt;<br />
&nbsp;&lt;p&gt;<br />
&nbsp;&nbsp;&lt;label&nbsp;for=&quot;len&quot;&gt;输入任意但长度限制为10个<br />
&nbsp;&nbsp;&lt;input&nbsp;name=&quot;least10&quot;&nbsp;type=&quot;text&quot;&nbsp;class=&quot;text_input&quot;&nbsp;maxlength=&quot;88&quot;&nbsp;id=&quot;len&quot;/&gt;<br />
&nbsp;&nbsp;*<br />
&nbsp;&nbsp;&lt;/label&gt;<br />
&nbsp;&lt;/p&gt;<br />
&nbsp;&lt;p&gt;<br />
&nbsp;&nbsp;&lt;label&nbsp;for=&quot;text&quot;&gt;只能输入100个<br />
&nbsp;&nbsp;&lt;textarea&nbsp;name=&quot;ok100&quot;&nbsp;cols=&quot;40&quot;&nbsp;rows=&quot;5&quot;&nbsp;id=&quot;text&quot;&nbsp;title=&quot;详细内容&quot;&gt;&lt;/textarea&gt;<br />
&nbsp;&nbsp;*<br />
&nbsp;&nbsp;&lt;/label&gt;<br />
&nbsp;&lt;/p&gt;<br />
&nbsp;&lt;p&gt;<br />
&nbsp;&nbsp;&lt;input&nbsp;type=&quot;submit&quot;&nbsp;name=&quot;Submit&quot;&nbsp;value=&quot;提交&quot;&nbsp;/&gt;<br />
&nbsp;&nbsp;&lt;button&nbsp;onclick=&quot;alert(vform)&quot;&nbsp;&gt;关于验证程序&lt;/button&gt;<br />
&nbsp;&lt;/p&gt;<br />
&lt;/form&gt;<br />
&lt;!--具体的日期设置，必须放在body的结束标签前面--&gt;<br />
&lt;script&nbsp;type=&quot;text/javascript&quot;&gt;<br />
&nbsp;&nbsp;vform&nbsp;.init();<br />
&nbsp;&nbsp;&nbsp;&nbsp;Calendar.setup({<br />
&nbsp;&nbsp;&nbsp;inputField&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&quot;dateinput&quot;,&nbsp;&nbsp;&nbsp;//&nbsp;把这个改成你需要的&nbsp;id<br />
&nbsp;&nbsp;&nbsp;ifFormat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&quot;%Y-%m-%d&nbsp;%H:%M&quot;,&nbsp;//&nbsp;format&nbsp;of&nbsp;the&nbsp;input&nbsp;field<br />
&nbsp;&nbsp;&nbsp;showsTime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;true,<br />
&nbsp;&nbsp;&nbsp;//button&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&quot;dateinput_btn&quot;,&nbsp;<br />
&nbsp;&nbsp;&nbsp;timeFormat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&quot;24&quot;<br />
&nbsp;&nbsp;&nbsp;});<br />
&nbsp;&lt;/script&gt;<br />
&lt;!--END具体的日期设置，必须放在body的结束标签前面--&gt;<br />
&lt;p&nbsp;class=&quot;title&quot;&gt;<br />
&nbsp;&lt;h1&gt;vForm1.0beta&lt;/h1&gt;<br />
&nbsp;&lt;ul&gt;<br />
&nbsp;&nbsp;&lt;li&gt;作者：雷晓宝&lt;/li&gt;<br />
&nbsp;&nbsp;&lt;li&gt;时间：2006-08-08&lt;/li&gt;<br />
&nbsp;&nbsp;&lt;li&gt;网址：http://lxbzj.com&lt;/li&gt;<br />
&nbsp;&nbsp;&lt;li&gt;e-mail:lxbzmy@163.com&lt;/li&gt;<br />
&nbsp;&nbsp;&lt;li&gt;许可：LGPL&lt;/li&gt;<br />
&nbsp;&lt;/ul&gt;<br />
&nbsp;&lt;h2&gt;功能简述：&lt;/h2&gt;<br />
&nbsp;&lt;ol&gt;<br />
&nbsp;&nbsp;&nbsp;&lt;li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h3&gt;验证：&lt;/h3&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;http地址。&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;时间日期&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;e-mail&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;数字&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;字符长度检查&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;一项输入与另一项输入比较（例如：密码的确认输入）&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;大小比较（只能有一个比较符号）&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;<br />
&nbsp;&nbsp;&nbsp;&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h3&gt;特点&lt;/h3&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;扩展容易，可以方便的添加自己需要的验证方式&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;兼容性好（ie5,6&nbsp;firefox,oprea）。&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;可用性好，没有使用alert()来弹出提示;&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/li&gt;<br />
&nbsp;&nbsp;&lt;/ol&gt;<br />
&nbsp;&lt;p&gt;&nbsp;&lt;/p&gt;<br />
&nbsp;&lt;h2&gt;使用方法&lt;/h2&gt;<br />
&nbsp;&lt;p&gt;使用时，需要定义一个出错提示框的样式，本例的样式为：&lt;code&gt;p.info&nbsp;{<br />
&nbsp;width:&nbsp;170px;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;overflow:visible;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;height:auto;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;font-size:&nbsp;small;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;position:&nbsp;absolute;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;background-color:&nbsp;#FFffdd;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;#000;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;filter:progid:DXImageTransform.Microsoft.Shadow(color=#111111,direction=135,strength=3);&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;5px;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/code&gt;&lt;/p&gt;<br />
&nbsp;&lt;p&gt;然后在网页&lt;head&gt;部分中添加&lt;code&gt;&lt;script&nbsp;type=&quot;text/javascript&quot;&nbsp;src=&quot;calendar/calendar.js&quot;&gt;&lt;/script&gt;&lt;/code&gt;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;然后可以写一个函数设置表单名称，验证规则，&lt;code&gt;function&nbsp;start()&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;{&nbsp;<br />
&nbsp;&nbsp;&nbsp;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;vFormvform.form_id&nbsp;=&nbsp;&#39;form1&#39;;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;vform.err_class&nbsp;=&nbsp;&#39;info&#39;;&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;//&nbsp;(obj,required(true/false),dataType,errmsg,minlen,maxlen,rule,patams)&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;//验证规则，逐条填写&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;vform.rules.add(&#39;frm_name&#39;,1,&#39;e-mail&#39;,&#39;请您按照&nbsp;user@domain.com&nbsp;的格式输入电子邮件地址。&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;);&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;vform.rules.add(&#39;myweb&#39;,1,&#39;url&#39;,&#39;请您按照&nbsp;http://www.domain.com&nbsp;的格式输入您的网址。&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;);&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;vform.rules.add(&#39;dateinput&#39;,0,&#39;date&#39;,&#39;请按2000-03-05&nbsp;的格式输入日期。&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;);&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;vform.rules.add(&#39;qq&#39;,0,&#39;number&#39;,&#39;这必须是一个整数&#39;);&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;vform.rules.add(&#39;least10&#39;,10,&#39;any&#39;,&#39;您必须至少填写10个&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;);&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;vform.rules.add(&#39;ok100&#39;,1,&#39;any&#39;,&#39;这里被限制为100个字符&lt;br&nbsp;/&gt;&lt;span&nbsp;style=&quot;color:#f00&quot;&gt;必填项目&lt;/span&gt;&#39;,100);&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;vform.init();&lt;br&nbsp;/&gt;<br />
&nbsp;&nbsp;&nbsp;}&lt;/code&gt;最后为body添加onload事件。<br />
&nbsp;&nbsp;&nbsp;&lt;code&gt;&lt;body&nbsp;onload=&quot;start();&quot;&gt;&lt;/code&gt;&lt;/p&gt;<br />
&nbsp;&lt;p&gt;&nbsp;&lt;/p&gt;<br />
&lt;/p&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;[/code]</div>
  		  <!-- 将此标记放在您希望显示like按钮的位置 -->          
            <div class="art_like"><div class="bdlikebutton"></div></div>
          </div>
        </div>
      </div>
      <div class="pnum">
        <div class="pages mypagelist">
          <div></div>
        </div>
      </div>
      <div class="pre_next">
        <nav>
          <ul class="pager">
            <li class="previous">上一篇：<a href='/bcsj/js/2015/0827/937.html'>全面理解JS的caller/callee/call/apply</a> </li>
            <li class="next">下一篇：<a href='/bcsj/js/2015/0827/939.html'>showModalDialog/showModelessDialog用法</a> </li>
          </ul>
        </nav>
      </div>
      <div class="well"> 
    		如果你有好的<a href="http://www.win10os.com/win10zixun" title="win10资讯">win10资讯</a>或者<a href="http://www.win10os.com/win10jiqiao" title="win10教程">win10教程</a>，以及<a href="http://www.win10os.com/win10xitong" title="win10">win10</a>相关的问题想要获得<a href="http://www.win10os.com/win10xiazai" title="win10系统下载">win10系统下载</a>的关注与报道。<br/>欢迎加入发送邮件到657025171#qq.com(#替换为@)。期待你的好消息！
    	</div>  
      <div class="row"> 
         <div class="col-sm-6 col-md-6">  
            <div class="panel panel-body">
      		    <ul class="all_list">     
	             <li><a href="/bcsj/js/2017/1010/1626.html" >前端框架：Angular React 和 Vue的比较</a><span>10.10</span></li>
<li><a href="/bcsj/js/2016/0929/1524.html" >如果你不幸是一个前端工程师</a><span>09.04</span></li>
<li><a href="/bcsj/js/2017/0902/1619.html" >Web端如何裁剪图片</a><span>09.02</span></li>
<li><a href="/bcsj/js/2017/0611/1592.html" >Nodejs回调加超时限制两种实现方法</a><span>06.11</span></li>
<li><a href="/bcsj/js/2016/1109/1573.html" >实用Bootstrap树形菜单特效插件Bo</a><span>11.09</span></li>
<li><a href="/bcsj/js/2016/1015/1544.html" >js关闭当前页面(窗口)的几种方式</a><span>10.15</span></li>
<li><a href="/bcsj/js/2016/1015/1543.html" >javascript深入理解js闭包_javascript技</a><span>10.15</span></li>
<li><a href="/bcsj/js/2016/1015/1542.html" >js实现table添加行tr、删除行tr、清</a><span>10.15</span></li>
<li><a href="/bcsj/js/2016/0929/1525.html" >你知道Javascript还可以这么玩耍滴</a><span>09.29</span></li>
<li><a href="/bcsj/js/2016/0506/1491.html" >带你一分钟理解 JavaScript 闭包</a><span>05.06</span></li>

	           </ul>
           </div>
        </div>
        <div class="col-sm-6 col-md-6">  
          <div class="panel panel-body">
      		   <ul class="all_list">     
	             <li><a href="/bcsj/js/2016/0111/1428.html" >jQuery 2.2 和 1.12 新版本发布</a><span>01.11</span></li>
<li><a href="/bcsj/js/2015/1019/1303.html" >30 个惊艳的 Bootstrap 扩展插件</a><span>10.19</span></li>
<li><a href="/bcsj/js/2015/0831/1260.html" >easyui页面加载错乱解决方法提示正</a><span>08.31</span></li>
<li><a href="/bcsj/js/2015/0829/1113.html" >做网页必备的js特效代码</a><span>08.29</span></li>
<li><a href="/bcsj/js/2015/0829/1112.html" >11个JavaScript颜色选择器插件</a><span>08.29</span></li>
<li><a href="/bcsj/js/2015/0829/1111.html" >12种JavaScript MVC框架之比较</a><span>08.29</span></li>
<li><a href="/bcsj/js/2015/0829/1110.html" >JS复制内容到剪贴板(兼容FF/Chrom</a><span>08.29</span></li>
<li><a href="/bcsj/js/2015/0829/1109.html" >JS函数重载解决方案</a><span>08.29</span></li>
<li><a href="/bcsj/js/2015/0829/1108.html" >JS的IE和FF兼容性问题汇总</a><span>08.29</span></li>
<li><a href="/bcsj/js/2015/0829/1107.html" >js小数转换为整数</a><span>08.29</span></li>

	          </ul>
          </div>
        </div>
      </div>
    </div>
    <!--右侧部分-->
    <div class="col-sm-4 col-md-4">
      <script src='/plus/ad_js.php?aid=12' language='javascript'></script>
      <div class="panel panel-custom panel-custom-right">
        <div class="panel-heading">最新文章>>></div>
        <div class="panel-body">
          <ul class="all_list">
            <li><a href="/bcsj/js/2017/1010/1626.html" >前端框架：Angular React 和 Vue的比较</a><span>10.10</span></li>
<li><a href="/bcsj/js/2016/0929/1524.html" >如果你不幸是一个前端工程师</a><span>09.04</span></li>
<li><a href="/bcsj/js/2017/0902/1619.html" >Web端如何裁剪图片</a><span>09.02</span></li>
<li><a href="/bcsj/js/2017/0611/1592.html" >Nodejs回调加超时限制两种实现方法</a><span>06.11</span></li>
<li><a href="/bcsj/js/2016/1109/1573.html" >实用Bootstrap树形菜单特效插件Bootstrap Tree View</a><span>11.09</span></li>
<li><a href="/bcsj/js/2016/1015/1544.html" >js关闭当前页面(窗口)的几种方式总结_javascript技巧</a><span>10.15</span></li>
<li><a href="/bcsj/js/2016/1015/1543.html" >javascript深入理解js闭包_javascript技巧</a><span>10.15</span></li>
<li><a href="/bcsj/js/2016/1015/1542.html" >js实现table添加行tr、删除行tr、清空行tr的简单实例</a><span>10.15</span></li>
<li><a href="/bcsj/js/2016/0929/1525.html" >你知道Javascript还可以这么玩耍滴么？</a><span>09.29</span></li>
<li><a href="/bcsj/js/2016/0506/1491.html" >带你一分钟理解 JavaScript 闭包</a><span>05.06</span></li>
 
          </ul>
        </div>
      </div>  
      <script src='/plus/ad_js.php?aid=14' language='javascript'></script>
      <div id="scr_cont" class="panel panel-custom panel-custom-right">
        <div class="panel-heading">相关热门>>></div>
        <div class="panel-body">
          <ul class="all_list">
            <li><a href="/bcsj/js/2015/0827/925.html" >easyui页面加载错乱解决方法，提示</a><span>202</span></li>
<li><a href="/bcsj/js/2015/1019/1303.html" >30 个惊艳的 Bootstrap 扩展插件</a><span>152</span></li>
<li><a href="/bcsj/js/2015/0829/1088.html" >js3秒后自动跳转到指定页面的俩种</a><span>129</span></li>
<li><a href="/bcsj/js/2016/1109/1573.html" >实用Bootstrap树形菜单特效插件Bo</a><span>98</span></li>
<li><a href="/bcsj/js/2015/0831/1260.html" >easyui页面加载错乱解决方法提示正</a><span>81</span></li>
<li><a href="/bcsj/js/2015/0829/1110.html" >JS复制内容到剪贴板(兼容FF/Chrom</a><span>76</span></li>
<li><a href="/bcsj/js/2015/0827/954.html" >兼容各种浏览器的复制内容到剪贴</a><span>67</span></li>
<li><a href="/bcsj/js/2015/0827/968.html" >图片自适应大小的通用JS代码</a><span>63</span></li>
<li><a href="/bcsj/js/2016/0111/1428.html" >jQuery 2.2 和 1.12 新版本发布</a><span>53</span></li>
<li><a href="/bcsj/js/2015/0827/926.html" >利用JS将gb2312转成utf-8</a><span>45</span></li>
 
          </ul>
          </ul>
        </div>
      </div>
      <script src='/plus/ad_js.php?aid=15' language='javascript'></script>
    </div>
    
  </div>
  <nav class="navbar navbar-default navbar-fixed-bottom navbar-bottom-custom">
    <div class="container">
      <span class="pull-right navbar-text" id="font_smaller" onclick="changeFont('smaller')">A-</span>&nbsp;&nbsp;<span class="pull-right navbar-text" id="font_bigger" onclick="changeFont('bigger')">A+</span>
    </div>
  </nav>
  <div class="footer">
	<div class="foot">
<br/>
              一起学编程是一家纯计算机技术学习、电脑学习、IT技术学习交流型网站，一起学编程所载文章来源于网络，如果不慎侵犯了您的权益，请联系我们删除！站长QQ：657025171<br/>
             <a href="/aboutus.html">关于我们</a> | <a href="/dashiji.html">大事记</a> | <a href="/jiazhiguan.html">网站价值观</a> | <a href="/contactus.html">联系我们</a> | <a href="/sitemap.xml">网站地图</a> | <a href="/copyright.html">版权声明</a><br/>
            Copyright ◎ 2011 - 2023 zftb.cn All Rights Reserved.<br/>
            zftb.cn 版权所有 京ICP备11048740号-7<br/>
			
	</div>
</div> 
  <span id="count_data" style="display:none">
    <script src="/plus/count.php?view=yes&aid=938&mid=1" type='text/javascript' language="javascript">
    </script>
  </span>
  <script type="text/javascript">
    document.getElementById('count').innerHTML = document.getElementById('count_data').innerHTML;
  </script>
    <script>
      var img = $(".art_content p").find("img")
      $.each(img,function(index,el){
        el.style.width='100%';
      });
    </script>

  <!-- 将此代码放在适当的位置，建议在body结束前 -->
  <script id="bdlike_shell"></script>
  <script>

  var bdShare_config = {

  	"type":"large",

  	"color":"blue",

  	"likeText":"内容很精彩",

  	"likedText":"您已顶过，谢谢！"

  };

  document.getElementById("bdlike_shell").src="http://bdimg.share.baidu.com/static/js/like_shell.js?t=" + Math.ceil(new Date()/3600000);

  </script>
  <script src="/templets/default/js/page-dir.js"></script>
</body>
</html>