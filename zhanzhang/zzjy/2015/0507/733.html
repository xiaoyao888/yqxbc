<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>浅谈 HTTPS 和 SSL/TLS 协议的背景与基础_一起学编程网_为你而生的电脑知识网站_win10系统下载_一起学编程网</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="keywords" content="浅谈,HTTPS,和,SSL,TLS,协议,的,背景,与,基" />
  <meta name="description" content="相关背景知识 要说清楚 HTTPS 协议的实现原理，至少需要如下几个背景知识。 大致了解几个基本术语（HTTPS、SSL、TLS）的含义 大致了解 HTTP 和 TCP 的关系（尤其是短连接VS长连接） 大致" />
  	<!-- Bootstrap core CSS -->
	<link href="/templets/default/css/bootstrap.min.css" rel="stylesheet">
	<!-- Bootstrap theme -->
	<link href="/templets/default/css/bootstrap-theme.min.css" rel="stylesheet">

	<!-- Custom styles for this template -->
	<link href="/templets/default/css/theme.css" rel="stylesheet">

	<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
	<!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
	<script src="/templets/default/js/ie-emulation-modes-warning.js"></script>

	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<script src="/templets/default/js/ie10-viewport-bug-workaround.js"></script>

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	<script src="/templets/default/js/jquery-2.1.3.js"></script>
	<script src="/templets/default/js/bootstrap.min.js"></script>
	<script src="/templets/default/js/docs.min.js"></script>
	<link href="/templets/default/css/main.css" rel="stylesheet">
	<script src="/templets/default/js/main.js"></script>

  <script src="/templets/default/js/article.js"></script>
<!-- yqxbc.com Baidu tongji analytics -->
<script>
var _hmt = _hmt || [];
(function() {
var hm = document.createElement("script");
hm.src = "//hm.baidu.com/hm.js?01a1ff7b6ab0650920aa64bf8bfad7e2";
var s = document.getElementsByTagName("script")[0];
s.parentNode.insertBefore(hm, s);
})();
</script>
</head>
<body>
      <nav class="navbar navbar-default">

      <div class="container" style="margin-top:0px;">

        <div class="row" style="line-height:45px;">

          学习电脑知识上一起学编程网，www.yqxbc.com！<span class="hidden-xs"><a href="javascript:void(0)" class="pull-right" onclick="alert('按Ctrl+D收藏本站')" title="win10系统">收藏本站</a></span>

        </div>

      </div>      

    </nav>

    <div class="container" style="margin-top:0px;">
      <div class="row" >

        <div class="col-sm-8 col-md-8">

            <a href="/index.html"><img src="/templets/default/images/logo.png" alt="Windows10系统下载,Win10激活,Win10教程" width="196" height="64"/></a>

        </div>
        <div class="col-sm-4 col-md-4">
        <div style="height:45px;">
        <form  method="post" id="searchFrm" role="search" action="/plus/search.php">
            <div class="input-group">
                <input type="text" class="form-control" id="keyword" name="keyword" placeholder="Search">
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" onclick="searchKey()">搜索</button>
                </span>
            </div><!-- /input-group -->
          </form>
        </div>
        </div>
      </div>
    </div>

    <nav class="navbar navbar-default navbar-custom">

      <div class="container">


<!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header navbar-header-custom">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">首页</a>
        </div>


        <!-- Collect the nav links, forms, and other content for toggling -->

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

          <ul class="nav navbar-nav nav-custom">
             <li class="dropdown">

              <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">电脑知识<span class="caret"></span></a>

              <ul class="dropdown-menu">

                <li><a href="/dnzs" title="电脑基础知识学习，计算机技术学习网站，计算机基础知识,电脑学习">电脑知识 <span class="sr-only">(current)</span></a></li>

                <li><a href="/dngz" title="电脑故障大全，计算机故障大全">故障大全</a></li>

                <li><a href="/wlzs" title="网络知识大全">网络知识</a></li>

              </ul>

            </li>

            <li><a href="/sjzs" title="手机故障，手机知识，手机频道">手机知识</a></li>            

            <li class="dropdown">

              <a href="/czxt" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">操作系统<span class="caret"></span></a>

              <ul class="dropdown-menu">

                <li><a href="/czxt/windows7" title="windows7系统">windows7</a></li>                

                <li><a href="/czxt/windows8" title="windows8系统">windows8</a></li>                

                <li><a href="http://www.win10os.com" title="windows10系统">windows10</a></li>                

                <li><a href="/czxt/linux" title="linux系统">linux</a></li>

              </ul>

            </li>

            
            <li class="dropdown">

              <a href="/bcsj" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">编程设计<span class="caret"></span></a>

              <ul class="dropdown-menu">

                <li><a href="/bcsj/css" title="css">css</a></li>

                <li><a href="/bcsj/java" title="java">java</a></li>

                <li><a href="/bcsj/php" title="php">php</a></li>

                <li><a href="/bcsj/aspnet" title="aspnet">aspnet</a></li>

                <li><a href="/bcsj/js" title="javascript">javascript</a></li>

                <li><a href="/bcsj/ajax" title="ajax">ajax</a></li>

                <li><a href="/bcsj/hadoop" title="hadoop">hadoop</a></li>                

              </ul>

            </li>     

            <li class="dropdown">

              <a href="/shujuku" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">数据库 <span class="caret"></span></a>

              <ul class="dropdown-menu">

                <li><a href="/shujuku/sqlserver" title="sql server数据库">SqlServer</a></li>

                <li><a href="/shujuku/mysql" title="MySQL数据库">MySql</a></li>                

                <li><a href="/shujuku/oracle" title="Oracle数据库">Oracle</a></li>                

                <li><a href="/shujuku/mangodb" title="MangoDB数据库">MangoDB</a></li>                

                <li><a href="/shujuku/hbase" title="HBase数据库">HBase</a></li>

                <li><a href="/shujuku/db2" title="DB2数据库">DB2</a></li>

                <li><a href="/shujuku/redis" title="Redis数据库">Redis</a></li>

              </ul>

            </li>
            <li><a href='/yunjisuan' target="_blank" title="云计算">云计算</a></li>
            <li><a href='/dashuju' target="_blank" title="大数据">大数据</a></li>
            <li><a href='/wulianwang' target="_blank" title="物联网">物联网</a></li>
            <li><a href='/main/website.html' target="_blank" title="好站推荐">好站推荐</a></li>
            <li><a href='/erweima/' target="_blank" title="二维码生成">常用工具</a></li>
          </ul>

          
        </div><!-- /.navbar-collapse -->

      </div><!-- /.container-fluid -->

    </nav>

    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

       <div class="modal-dialog">

          <div class="modal-content">

             <div class="modal-header">

                <button type="button" class="close" data-dismiss="modal" 

                   aria-hidden="true">×

                </button>

                <h4 class="modal-title" id="myModalLabel">

                   搜索提示

                </h4>

             </div>

             <div class="modal-body">

                <div style="height:60px;line-height:60px;">

                  关键字不能小于2个字！

                </div>

             </div>

          </div><!-- /.modal-content -->

       </div><!-- /.modal-dialog -->

    </div><!-- /.modal -->
<script type="text/javascript">
  function searchKey(){
    var keyword = $("#keyword").val();
    if(keyword.length<2){
      $('#myModal').modal('show');     
      return;
    }else{
      $("#searchFrm").submit();
    }

  }
</script>
  <div class="modal fade" id="imgModal" tabindex="-1" role="dialog" aria-hidden="true">
	   <div class="modal-dialog">
		  <div class="modal-content">
			 <div class="modal-body">
				<div id="modal_img" ></div>
			 </div>
		  </div>
	   </div>
	</div>
  <div class="container" style="padding-left:0px;padding-right:0px">
    
    <div class="col-sm-8  col-md-8">
      <ol class="breadcrumb">
      当前位置：<a href='http://www.yqxbc.com/'>首页</a> > <a href='/zhanzhang/'>站长杂谈</a> > <a href='/zhanzhang/zzjy/'>站长经验</a> >
      </ol>
      <div class="panel panel-default">
        <div class="panel-body">
          <div class="art_title">
            <h3>浅谈 HTTPS 和 SSL/TLS 协议的背景与基础</h3>
            <a href="http://www.yqxbc.com" title="http://www.yqxbc.com">http://www.yqxbc.com</a>&nbsp;<a href="http://www.yqxbc.com">win10系统</a>  发布时间：2015-05-07 10:01 来源：未知 浏览：<span id="count"style="font-size:14px;">加载中</span>次
          </div>
          <div class="art_body">
            <div class="art_share"><div><div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"32"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></div></div>
            <div id="733" class="art_content"><h3>
	相关背景知识</h3>
<p>
	要说清楚 HTTPS 协议的实现原理，至少需要如下几个背景知识。</p>
<ol>
	<li>
		大致了解几个基本术语（HTTPS、SSL、TLS）的含义</li>
	<li>
		大致了解 HTTP 和 TCP 的关系（尤其是&ldquo;短连接&rdquo;VS&ldquo;长连接&rdquo;）</li>
	<li>
		大致了解加密算法的概念（尤其是&ldquo;对称加密与非对称加密&rdquo;的区别）</li>
	<li>
		大致了解 CA 证书的用途</li>
</ol>
<p>
	考虑到很多技术菜鸟可能不了解上述背景，俺先用最简短的文字描述一下。如果你自认为不是菜鸟，请略过本章节，直接去看&ldquo;HTTPS 协议的需求&rdquo;。</p>
<p>
	<img alt="" src="/uploads/allimg/150507/10020U018-0.jpg" vspace="5" /></p>
<h4>
	先澄清几个术语&mdash;&mdash;HTTPS、SSL、TLS</h4>
<h4>
	1. &ldquo;HTTP&rdquo;是干嘛用滴？</h4>
<p>
	首先，HTTP 是一个网络协议，是专门用来帮你传输 Web 内容滴。关于这个协议，就算你不了解，至少也听说过吧？比如你访问俺的博客的主页，浏览器地址栏会出现如下的网址&nbsp;http://www.linuxidc.com</p>
<p>
	俺加了粗体的部分就是指 HTTP 协议。大部分网站都是通过 HTTP 协议来传输 Web 页面、以及 Web 页面上包含的各种东东（图片、CSS 样式、JS 脚本）。</p>
<h4>
	2. &ldquo;SSL/TLS&rdquo;是干嘛用滴？</h4>
<p>
	SSL 是洋文&ldquo;Secure Sockets Layer&rdquo;的缩写，中文叫做&ldquo;安全套接层&rdquo;。它是在上世纪90年代中期，由网景公司设计的。（顺便插一句，网景公司不光发明了 SSL，还发明了很多 Web 的基础设施&mdash;&mdash;比如&ldquo;CSS 样式表&rdquo;和&ldquo;JS 脚本&rdquo;）</p>
<p>
	为啥要发明 SSL 这个协议捏？因为原先互联网上使用的 HTTP 协议是明文的，存在很多缺点&mdash;&mdash;比如传输内容会被偷窥（嗅探）和篡改。发明 SSL 协议，就是为了解决这些问题。</p>
<p>
	到了1999年，SSL 因为应用广泛，已经成为互联网上的事实标准。IETF 就在那年把 SSL 标准化。标准化之后的名称改为 TLS（是&ldquo;Transport Layer Security&rdquo;的缩写），中文叫做&ldquo;传输层安全协议&rdquo;。</p>
<p>
	很多相关的文章都把这两者并列称呼（SSL/TLS），因为这两者可以视作同一个东西的不同阶段。</p>
<p>
	3. &ldquo;HTTPS&rdquo;是啥意思？</p>
<p>
	解释完 HTTP 和 SSL/TLS，现在就可以来解释 HTTPS 啦。咱们通常所说的 HTTPS 协议，说白了就是&ldquo;HTTP 协议&rdquo;和&ldquo;SSL/TLS 协议&rdquo;的组合。你可以把 HTTPS 大致理解为&mdash;&mdash;&ldquo;HTTP over SSL&rdquo;或&ldquo;HTTP over TLS&rdquo;（反正 SSL 和 TLS 差不多）。</p>
<p>
	&nbsp;</p>
<h4>
	再来说说 HTTP 协议的特点</h4>
<p>
	作为背景知识介绍，还需要再稍微谈一下 HTTP 协议本身的特点。HTTP 本身有很多特点，考虑到篇幅有限，俺只谈那些和 HTTPS 相关的特点。</p>
<p>
	&nbsp;</p>
<h4>
	1. HTTP 的版本和历史</h4>
<p>
	如今咱们用的 HTTP 协议，版本号是 1.1（也就是 HTTP 1.1）。这个 1.1 版本是1995年底开始起草的（技术文档是&nbsp;RFC2068），并在1999年正式发布（技术文档是&nbsp;RFC2616）。</p>
<p>
	在 1.1 之前，还有曾经出现过两个版本&ldquo;0.9 和 1.0&rdquo;，其中的 HTTP 0.9 【没有】被广泛使用，而 HTTP 1.0 被广泛使用过。</p>
<p>
	另外，据说明年（2015）IETF&nbsp;就要发布 HTTP 2.0 的标准了。俺拭目以待。</p>
<p>
	&nbsp;</p>
<h4>
	2. HTTP 和 TCP 之间的关系</h4>
<p>
	简单地说，TCP 协议是 HTTP 协议的基石&mdash;&mdash;HTTP 协议需要依靠 TCP 协议来传输数据。</p>
<p>
	在网络分层模型中，TCP 被称为&ldquo;传输层协议&rdquo;，而 HTTP 被称为&ldquo;应用层协议&rdquo;。有很多常见的应用层协议是以 TCP 为基础的，比如&ldquo;FTP、SMTP、POP、IMAP&rdquo;等。</p>
<p>
	TCP 被称为&ldquo;面向连接&rdquo;的传输层协议。关于它的具体细节，俺就不展开了（否则篇幅又失控了）。你只需知道：传输层主要有两个协议，分别是 TCP 和 UDP。TCP 比 UDP 更可靠。你可以把 TCP 协议想象成某个水管，发送端这头进水，接收端那头就出水。并且 TCP 协议能够确保，先发送的数据先到达（与之相反，UDP 不保证这点）。</p>
<p>
	&nbsp;</p>
<h4>
	3. HTTP 协议如何使用 TCP 连接？</h4>
<p>
	HTTP 对 TCP 连接的使用，分为两种方式：俗称&ldquo;短连接&rdquo;和&ldquo;长连接&rdquo;（&ldquo;长连接&rdquo;又称&ldquo;持久连接&rdquo;，洋文叫做&ldquo;Keep-Alive&rdquo;或&ldquo;Persistent Connection&rdquo;）</p>
<p>
	假设有一个网页，里面包含好多图片，还包含好多【外部的】CSS 文件和 JS 文件。在&ldquo;短连接&rdquo;的模式下，浏览器会先发起一个 TCP 连接，拿到该网页的 HTML 源代码（拿到 HTML 之后，这个 TCP 连接就关闭了）。然后，浏览器开始分析这个网页的源码，知道这个页面包含很多外部资源（图片、CSS、JS）。然后针对【每一个】外部资源，再分别发起一个个 TCP 连接，把这些文件获取到本地（同样的，每抓取一个外部资源后，相应的 TCP 就断开）</p>
<p>
	相反，如果是&ldquo;长连接&rdquo;的方式，浏览器也会先发起一个 TCP 连接去抓取页面。但是抓取页面之后，该 TCP 连接并不会立即关闭，而是暂时先保持着（所谓的&ldquo;Keep-Alive&rdquo;）。然后浏览器分析 HTML 源码之后，发现有很多外部资源，就用刚才那个 TCP 连接去抓取此页面的外部资源。</p>
<p>
	在 HTTP 1.0 版本，【默认】使用的是&ldquo;短连接&rdquo;（那时候是 Web 诞生初期，网页相对简单，&ldquo;短连接&rdquo;的问题不大）；</p>
<p>
	到了1995年底开始制定 HTTP 1.1 草案的时候，网页已经开始变得复杂（网页内的图片、脚本越来越多了）。这时候再用短连接的方式，效率太低下了（因为建立 TCP 连接是有&ldquo;时间成本&rdquo;和&ldquo;CPU 成本&rdquo;滴）。所以，在 HTTP 1.1 中，【默认】采用的是&ldquo;Keep-Alive&rdquo;的方式。</p>
<p>
	关于&ldquo;Keep-Alive&rdquo;的更多介绍，可以参见维基百科词条（在&ldquo;这里&rdquo;）</p>
<h4>
	谈谈&ldquo;对称加密&rdquo;和&ldquo;非对称加密&rdquo;的概念</h4>
<h4>
	1. 啥是&ldquo;加密&rdquo;和&ldquo;解密&rdquo;？</h4>
<p>
	通俗而言，你可以把&ldquo;加密&rdquo;和&ldquo;解密&rdquo;理解为某种【互逆的】数学运算。就好比&ldquo;加法和减法&rdquo;互为逆运算、&ldquo;乘法和除法&rdquo;互为逆运算。</p>
<p>
	&ldquo;加密&rdquo;的过程，就是把&ldquo;明文&rdquo;变成&ldquo;密文&rdquo;的过程；反之，&ldquo;解密&rdquo;的过程，就是把&ldquo;密文&rdquo;变为&ldquo;明文&rdquo;。在这两个过程中，都需要一个关键的东东&mdash;&mdash;叫做&ldquo;密钥&rdquo;&mdash;&mdash;来参与数学运算。</p>
<h4>
	2. 啥是&ldquo;对称加密&rdquo;？</h4>
<p>
	所谓的&ldquo;对称加密技术&rdquo;，意思就是说：&ldquo;加密&rdquo;和&ldquo;解密&rdquo;使用【相同的】密钥。这个比较好理解。就好比你用 7zip 或 WinRAR 创建一个带密码（口令）的加密压缩包。当你下次要把这个压缩文件解开的时候，你需要输入【同样的】密码。在这个例子中，密码/口令就如同刚才说的&ldquo;密钥&rdquo;。</p>
<h4>
	3. 啥是&ldquo;非对称加密&rdquo;？</h4>
<p>
	所谓的&ldquo;非对称加密技术&rdquo;，意思就是说：&ldquo;加密&rdquo;和&ldquo;解密&rdquo;使用【不同的】密钥。这玩意儿比较难理解，也比较难想到。当年&ldquo;非对称加密&rdquo;的发明，还被誉为&ldquo;密码学&rdquo;历史上的一次革命。</p>
<p>
	由于篇幅有限，对&ldquo;非对称加密&rdquo;这个话题，俺就不展开了。有空的话，再单独写一篇扫盲。</p>
<p>
	&nbsp;</p>
<h4>
	4. 各自有啥优缺点？</h4>
<p>
	看完刚才的定义，很显然：（从功能角度而言）&ldquo;非对称加密&rdquo;能干的事情比&ldquo;对称加密&rdquo;要多。这是&ldquo;非对称加密&rdquo;的优点。但是&ldquo;非对称加密&rdquo;的实现，通常需要涉及到&ldquo;复杂数学问题&rdquo;。所以，&ldquo;非对称加密&rdquo;的性能通常要差很多（相对于&ldquo;对称加密&rdquo;而言）。</p>
<p>
	这两者的优缺点，也影响到了 SSL 协议的设计。</p>
<p>
	&nbsp;</p>
<h4>
	CA 证书的原理及用途</h4>
<p>
	关于这方面，请看俺4年前写的《数字证书及CA的扫盲介绍》。这里就不再重复唠叨了，免得篇幅太长。</p>
<p>
	&nbsp;</p>
<h3>
	HTTPS 协议的需求是啥？</h3>
<p>
	花了好多口水，终于把背景知识说完了。下面正式进入正题。先来说说当初设计 HTTPS 是为了满足哪些需求？</p>
<p>
	很多介绍 HTTPS 的文章一上来就给你讲实现细节。个人觉得：这是不好的做法。早在2009年开博的时候，发过一篇《学习技术的三部曲：WHAT、HOW、WHY》，其中谈到&ldquo;WHY 型问题&rdquo;的重要性。一上来就给你讲协议细节，你充其量只能知道 WHAT 和 HOW，无法理解 WHY。俺在前一个章节讲了&ldquo;背景知识&rdquo;，在这个章节讲了&ldquo;需求&rdquo;，这就有助于你理解：当初为什么要设计成这样？&mdash;&mdash;这就是 WHY 型的问题。</p>
<p>
	&nbsp;</p>
<h4>
	兼容性</h4>
<p>
	因为是先有 HTTP 再有 HTTPS。所以，HTTPS 的设计者肯定要考虑到对原有 HTTP 的兼容性。</p>
<p>
	这里所说的兼容性包括很多方面。比如已有的 Web 应用要尽可能无缝地迁移到 HTTPS；比如对浏览器厂商而言，改动要尽可能小；......</p>
<p>
	基于&ldquo;兼容性&rdquo;方面的考虑，很容易得出如下几个结论：</p>
<p>
	1. HTTPS 还是要基于 TCP 来传输</p>
<p>
	（如果改为 UDP 作传输层，无论是 Web 服务端还是浏览器客户端，都要大改，动静太大了）</p>
<p>
	2. 单独使用一个新的协议，把 HTTP 协议包裹起来</p>
<p>
	（所谓的&ldquo;HTTP over SSL&rdquo;，实际上是在原有的 HTTP 数据外面加了一层 SSL 的封装。HTTP 协议原有的 GET、POST 之类的机制，基本���原封不动）</p>
<p>
	打个比方：如果原来的 HTTP 是塑料水管，容易被戳破；那么如今新设计的 HTTPS 就像是在原有的塑料水管之外，再包一层金属水管。一来，原有的塑料水管照样运行；二来，用金属加固了之后，不容易被戳破。</p>
<p>
	&nbsp;</p>
<h4>
	可扩展性</h4>
<p>
	前面说了，HTTPS 相当于是&ldquo;HTTP over SSL&rdquo;。</p>
<p>
	如果 SSL 这个协议在&ldquo;可扩展性&rdquo;方面的设计足够牛逼，那么它除了能跟 HTTP 搭配，还能够跟其它的应用层协议搭配。岂不美哉？</p>
<p>
	现在看来，当初设计 SSL 的人确实比较牛。如今的 SSL/TLS 可以跟很多常用的应用层协议（比如：FTP、SMTP、POP、Telnet）搭配，来强化这些应用层协议的安全性。</p>
<p>
	接着刚才打的比方：如果把 SSL/TLS 视作一根用来加固的金属管，它不仅可以用来加固输水的管道，还可以用来加固输煤气的管道。</p>
<p>
	&nbsp;</p>
<h4>
	保密性（防泄密）</h4>
<p>
	HTTPS 需要做到足够好的保密性。</p>
<p>
	说到保密性，首先要能够对抗嗅探（行话叫 Sniffer）。所谓的&ldquo;嗅探&rdquo;，通俗而言就是监视你的网络传输流量。如果你使用明文的 HTTP 上网，那么监视者通过嗅探，就知道你在访问哪些网站的哪些页面。</p>
<p>
	嗅探是最低级的攻击手法。除了嗅探，HTTPS 还需要能对抗其它一些稍微高级的攻击手法&mdash;&mdash;比如&ldquo;重放攻击&rdquo;（后面讲协议原理的时候，会再聊）。</p>
<p>
	&nbsp;</p>
<h4>
	完整性（防篡改）</h4>
<p>
	除了&ldquo;保密性&rdquo;，还有一个同样重要的目标是&ldquo;确保完整性&rdquo;。关于&ldquo;完整性&rdquo;这个概念，在之前的博文《扫盲文件完整性校验&mdash;&mdash;关于散列值和数字签名》中大致提过。健忘的同学再去温习一下。</p>
<p>
	在发明 HTTPS 之前，由于 HTTP 是明文的，不但容易被嗅探，还容易被篡改。</p>
<p>
	举个例子：</p>
<p>
	比如咱们天朝的网络运营商（ISP）都比较流氓，经常有网友抱怨说访问某网站（本来是没有广告的），竟然会跳出很多中国电信的广告。为啥会这样捏？因为你的网络流量需要经过 ISP 的线路才能到达公网。如果你使用的是明文的 HTTP，ISP 很容易就可以在你访问的页面中植入广告。</p>
<p>
	所以，当初设计 HTTPS 的时候，还有一个需求是&ldquo;确保 HTTP 协议的内容不被篡改&rdquo;。</p>
<p>
	&nbsp;</p>
<h4>
	真实性（防假冒）</h4>
<p>
	在谈到 HTTPS 的需求时，&ldquo;真实性&rdquo;经常被忽略。其实&ldquo;真实性&rdquo;的重要程度不亚于前面的&ldquo;保密性&rdquo;和&ldquo;完整性&rdquo;。</p>
<p>
	举个例子：</p>
<p>
	你因为使用网银，需要访问该网银的 Web 站点。那么，你如何确保你访问的网站确实是你想访问的网站？（这话有点绕口令）</p>
<p>
	有些天真的同学会说：通过看网址里面的域名，来确保。为啥说这样的同学是&ldquo;天真的&rdquo;？因为 DNS 系统本身是不可靠的（尤其是在设计 SSL 的那个年代，连 DNSSEC 都还没发明）。由于 DNS 的不可靠（存在&ldquo;域名欺骗&rdquo;和&ldquo;域名劫持&rdquo;），你看到的网址里面的域名【未必】是真实滴！</p>
<p>
	（不了解&ldquo;域名欺骗&rdquo;和&ldquo;域名劫持&rdquo;的同学，可以参见俺之前写的《扫盲 DNS 原理，兼谈&ldquo;域名劫持&rdquo;和&ldquo;域名欺骗/域名污染&rdquo;》）</p>
<p>
	所以，HTTPS 协议必须有某种机制来确保&ldquo;真实性&rdquo;的需求（至于如何确保，后面会细聊）。</p>
<p>
	&nbsp;</p>
<h4>
	性能</h4>
<p>
	再来说最后一个需求&mdash;&mdash;性能。</p>
<p>
	引入 HTTPS 之后，【不能】导致性能变得太差。否则的话，谁还愿意用？</p>
<p>
	为了确保性能，SSL 的设计者至少要考虑如下几点：</p>
<ol>
	<li>
		如何选择加密算法（&ldquo;对称&rdquo;or&ldquo;非对称&rdquo;）？</li>
	<li>
		如何兼顾 HTTP 采用的&ldquo;短连接&rdquo;TCP 方式？</li>
</ol>
<p>
	（SSL 是在1995年之前开始设计的，那时候的 HTTP 版本还是 1.0，默认使用的是&ldquo;短连接&rdquo;的 TCP 方式&mdash;&mdash;默认不启用 Keep-Alive）</p>
<p>
	&nbsp;</p>
<h4>
	小结</h4>
<p>
	以上就是设计 SSL 协议时，必须兼顾的各种需求。后面聊协议的实现时，俺会拿 SSL 协议的特点跟前面的需求作对照。看看这些需求是如何一一满足滴。</p>
<p>
	&nbsp;</p>
<h3>
	设计 HTTPS 协议的主要难点</h3>
<p>
	设计 HTTPS 这个协议，有好几个难点。俺个人认为最大的难点在于&ldquo;密钥交换&rdquo;。</p>
<p>
	在传统的密码学场景中，假如张三要跟李四建立一个加密通讯的渠道，双方事先要约定好使用哪种加密算法？同时也要约定好使用的密钥是啥？在这个场景中，加密算法的【类型】让旁人知道，没太大关系。但是密钥【千万不能】让旁人知道。一旦旁人知道了密钥，自然就可以破解通讯的密文，得到明文。</p>
<p>
	好，现在回到 HTTPS 的场景。</p>
<p>
	当你访问某个公网的网站，你的浏览器和网站的服务器之间，如果要建立加密通讯，必然要商量好双方使用啥算法，啥密钥。&mdash;&mdash;在网络通讯术语中，这个过程称之为&ldquo;握手/handshake&rdquo;。在握手阶段，因为加密方式还没有协商好，所以握手阶段的通讯必定是【明文】滴！既然是明文，自然有可能被第三方偷窥到。然后，还要考虑到双方之间隔着一个互联网，什么样的偷窥都可能发生。</p>
<p>
	因此，在握手的过程中，如何做到安全地交换密钥信息，而不让周围的第三方看到。这就是设计 HTTPS 最大的难点。</p>
<p>
	&nbsp;</p>
<h3>
	结尾</h3>
<p>
	本文费这么多口水，来介绍 HTTPS 的&ldquo;需求&rdquo;和&ldquo;难点&rdquo;，为啥捏？因为只有当你了解这些，后面介绍 SSL/TLS 的实现原理时，你才能理解&mdash;&mdash;当初为啥要把协议设计成这个样子。</p>
</div>
  		  <!-- 将此标记放在您希望显示like按钮的位置 -->          
            <div class="art_like"><div class="bdlikebutton"></div></div>
          </div>
        </div>
      </div>
      <div class="pnum">
        <div class="pages mypagelist">
          <div></div>
        </div>
      </div>
      <div class="pre_next">
        <nav>
          <ul class="pager">
            <li class="previous">上一篇：<a href='/zhanzhang/zzjy/2015/0507/714.html'>如何让百度快照及时更新</a> </li>
            <li class="next">下一篇：没有了 </li>
          </ul>
        </nav>
      </div>
      <div class="well"> 
    		如果你有好的<a href="http://www.win10os.com/win10zixun" title="win10资讯">win10资讯</a>或者<a href="http://www.win10os.com/win10jiqiao" title="win10教程">win10教程</a>，以及<a href="http://www.win10os.com/win10xitong" title="win10">win10</a>相关的问题想要获得<a href="http://www.win10os.com/win10xiazai" title="win10系统下载">win10系统下载</a>的关注与报道。<br/>欢迎加入发送邮件到657025171#qq.com(#替换为@)。期待你的好消息！
    	</div>  
      <div class="row">
        
          <div class="col-sm-3 col-md-3">
            <div class="thumbnail thumbnail-custom">
              <a href='/zhanzhang/zzjy/2015/0507/733.html'><img src='/uploads/allimg/150507/10020U018-0-lp.jpg' border='0' width='120' height='120' alt='浅谈 HTTPS 和 SSL/TLS 协议的背景与基础'></a>
              <div class="caption">
                <p><a href='/zhanzhang/zzjy/2015/0507/733.html'>浅谈 HTTPS 和 SSL/TLS 协</a></p>              
                
              </div>
            </div>
          </div>
<div class="col-sm-3 col-md-3">
            <div class="thumbnail thumbnail-custom">
              <a href='/zhanzhang/zzjy/2015/0404/558.html'><img src='/uploads/allimg/150404/144UJ264-0-lp.jpg' border='0' width='120' height='120' alt='站长必看的网站常识'></a>
              <div class="caption">
                <p><a href='/zhanzhang/zzjy/2015/0404/558.html'>站长必看的网站常识</a></p>              
                
              </div>
            </div>
          </div>

        
      </div>
    </div>
    <!--右侧部分-->
    <div class="col-sm-4 col-md-4">
      <script src='/plus/ad_js.php?aid=12' language='javascript'></script>
      <div class="panel panel-custom panel-custom-right">
        <div class="panel-heading">最新文章>>></div>
        <div class="panel-body">
          <ul class="all_list">
            <li><a href="/zhanzhang/zzjy/2015/0507/733.html" >浅谈 HTTPS 和 SSL/TLS 协议的背景与基础</a><span>05.07</span></li>
<li><a href="/zhanzhang/zzjy/2015/0507/714.html" >如何让百度快照及时更新</a><span>05.07</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/559.html" >设计商业网站的域名之一域名的重要性</a><span>04.04</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/558.html" >站长必看的网站常识</a><span>04.04</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/557.html" >网站上线前务必做好以下31个检查，防止上线后出乱子。</a><span>04.04</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/556.html" >浅谈二维条码在移动电子商务中的应用</a><span>04.04</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/555.html" >大家知道屌丝站长与程序员的区别么</a><span>04.04</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/554.html" >做网赚搞网站一定要养成一个好习惯</a><span>04.04</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/553.html" >是的，我还在做淘宝客！</a><span>04.04</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/552.html" >做网站不可犯的十大恶劣的网站体验</a><span>04.04</span></li>
 
          </ul>
        </div>
      </div>  
      <script src='/plus/ad_js.php?aid=14' language='javascript'></script>
      <div id="scr_cont" class="panel panel-custom panel-custom-right">
        <div class="panel-heading">相关热门>>></div>
        <div class="panel-body">
          <ul class="all_list">
            <li><a href="/zhanzhang/zzjy/2015/0404/554.html" >做网赚搞网站一定要养成一个好习</a><span>59</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/535.html" >查看windows防火墙日志 在IP追踪中</a><span>53</span></li>
<li><a href="/zhanzhang/zzjy/2015/0507/733.html" >浅谈 HTTPS 和 SSL/TLS 协议的背景与</a><span>53</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/553.html" >是的，我还在做淘宝客！</a><span>39</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/555.html" >大家知道屌丝站长与程序员的区别</a><span>39</span></li>
<li><a href="/zhanzhang/zzjy/2015/0507/714.html" >如何让百度快照及时更新</a><span>39</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/556.html" >浅谈二维条码在移动电子商务中的</a><span>38</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/559.html" >设计商业网站的域名之一域名的重</a><span>38</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/558.html" >站长必看的网站常识</a><span>37</span></li>
<li><a href="/zhanzhang/zzjy/2015/0404/552.html" >做网站不可犯的十大恶劣的网站体</a><span>31</span></li>
 
          </ul>
          </ul>
        </div>
      </div>
      <script src='/plus/ad_js.php?aid=15' language='javascript'></script>
    </div>
    
  </div>
  <nav class="navbar navbar-default navbar-fixed-bottom navbar-bottom-custom">
    <div class="container">
      <span class="pull-right navbar-text" id="font_smaller" onclick="changeFont('smaller')">A-</span>&nbsp;&nbsp;<span class="pull-right navbar-text" id="font_bigger" onclick="changeFont('bigger')">A+</span>
    </div>
  </nav>
  <div class="footer">
  <div class="container">
    <div class="foot">
      <br/>
                一起学编程网是一家纯计算机技术学习、电脑学习、IT技术学习交流型网站，一起学编程网站所载文章来源于网络，如果不慎侵犯了您的权益，请联系我们删除！站长QQ：657025171<br/>
               <a href="/aboutus.html">关于我们</a> | <a href="/dashiji.html">大事记</a> | <a href="/jiazhiguan.html">网站价值观</a> | <a href="/contactus.html">联系我们</a> | <a href="/submenu.html">网站地图</a> | <a href="/copyright.html">版权声明</a> | <a href="/changwei.html">长尾关键词</a> <br/>
              Copyright ◎ 2011 - 2017 yqxbc.com All Rights Reserved.<br/>yqxbc.com 版权所有  <a href="http://www.miit.gov.cn/n11293472/index.html" target="_blank">京ICP备11048740号</a><br/>
        
    </div>
  </div>
</div> 
  <span id="count_data" style="display:none">
    <script src="/plus/count.php?view=yes&aid=733&mid=1" type='text/javascript' language="javascript">
    </script>
  </span>
  <script type="text/javascript">
    document.getElementById('count').innerHTML = document.getElementById('count_data').innerHTML;
  </script>
    <script>
      var img = $(".art_content p").find("img")
      $.each(img,function(index,el){
        el.style.width='100%';
      });
    </script>

  <!-- 将此代码放在适当的位置，建议在body结束前 -->
  <script id="bdlike_shell"></script>
  <script>

  var bdShare_config = {

  	"type":"large",

  	"color":"blue",

  	"likeText":"内容很精彩",

  	"likedText":"您已顶过，谢谢！"

  };

  document.getElementById("bdlike_shell").src="http://bdimg.share.baidu.com/static/js/like_shell.js?t=" + Math.ceil(new Date()/3600000);

  </script>
</body>
</html>